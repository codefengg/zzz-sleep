<nav-bar title="睡眠" id="navBar"></nav-bar>
<view class="container" style="padding-top: {{navBarHeight}}px;">
  <!-- 背景图片 -->
  <image class="background-image" src="../../assets/background-vector.png"></image>
  <!-- 标题区 -->
  <view class="header-section">
    <view class="header-text">
      <view class="main-title">夜深了</view>
      <view class="sub-title">
        春风拂过，万物复苏，每一片新叶都在诉说生长的力量。这是一个崭新的起点，泥土中的种子正破土而出，正如你心中蛰伏的梦想——只要向上，必有回响。
      </view>
    </view>
    <view class="header-icon">
      <view class="moon"></view>
    </view>
  </view>
  <!-- 音频列表区 -->
  <view class="audio-list">
    <block wx:for="{{audioList}}" wx:key="id">
      <view class="audio-item" style="width:{{itemWidth}}px;height:{{itemWidth}}px" bindtap="onTapAudioItem" data-id="{{item.id}}">
        <view class="audio-item-inner">
          <image class="audio-item-bg" src="{{item.backgroundImage || '/assets/default-bg.jpg'}}" mode="aspectFill"></image>
          <view class="audio-item-content">
            <image class="audio-item-icon" src="{{item.icon}}" mode="aspectFit"></image>
            <view class="audio-item-name">{{item.name}}</view>
          </view>
        </view>
      </view>
    </block>
  </view>
  <!-- 使用play-panel组件 -->
  <play-panel bind:statechange="onPlayerStateChange" bind:progresschange="onPlayerProgressChange">
    <!-- 迷你播放器内容 -->
    <view class="mini-player-content">
      <!-- 左侧播放区域 -->
      <view class="mini-player-left">
        <!-- 播放/暂停按钮 -->
        <play-toggle playing="{{isPlaying}}" bind:toggle="togglePlay"></play-toggle>
        <!-- 音频信息 -->
        <view class="mini-player-info">
          <view class="mini-player-name">绵绵细雨</view>
          <view class="mini-player-timer">29:00</view>
        </view>
      </view>
      <!-- 右侧倒计时按钮 -->
      <view class="mini-player-right" bindtap="showTimerPicker">
        <image class="timer-icon" src="/assets/union.png" mode="aspectFit"></image>
      </view>
    </view>
    <!-- 全屏播放器内容 -->
    <view slot="full-player" class="full-player-content">
      <view class="full-player-cover-container">
        <!-- 原始背景图 -->
        <image class="full-player-cover-back" src="/assets/mock-back/fine-rain-back.png" mode="aspectFill"></image>
        <!-- 模糊层 -->
        <view class="blur-overlay"></view>
      </view>
      <view class="full-player-content-con">
        <image class="full-player-cover-icon" src="/assets/mock-icons/thunderstorm.png" mode="aspectFit"></image>
        <view class="full-player-content-con-text">
          <view class="full-player-content-con-text-title">绵绵细雨</view>
          <view class="full-player-content-con-text-timer">29:00</view>
        </view>
      </view>
    </view>
  </play-panel>
</view>